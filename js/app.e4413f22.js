(function(e){function t(t){for(var r,i,s=t[0],l=t[1],c=t[2],d=0,p=[];d<s.length;d++)i=s[d],a[i]&&p.push(a[i][0]),a[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);u&&u(t);while(p.length)p.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,s=1;s<n.length;s++){var l=n[s];0!==a[l]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={1:0},o=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/vue-3dmodel-viewer/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=l;o.push(["wx8R",0]),n()})({"/95P":function(e,t,n){"use strict";var r=n("x0BH"),a=n.n(r);a.a},lYJ6:function(e,t,n){"use strict";var r=n("vuCW"),a=n.n(r);a.a},vuCW:function(e,t,n){},wx8R:function(e,t,n){"use strict";n.r(t);n("VRzm");var r=n("Kw5r"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("GithubCorner"),n("main",{staticClass:"container",attrs:{role:"main"}},[e._m(0),n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-2"},[n("button",{staticClass:"btn btn-primary btn-block",attrs:{type:"button"},on:{click:function(t){e.changeModel("gltf")}}},[e._v("GLTF")]),n("button",{staticClass:"btn btn-primary btn-block",attrs:{type:"button"},on:{click:function(t){e.changeModel("glb")}}},[e._v("GLTF (GLB)")]),n("button",{staticClass:"btn btn-primary btn-block",attrs:{type:"button"},on:{click:function(t){e.changeModel("gltf_anim")}}},[e._v("GLTF (Anim)")])]),n("div",{staticClass:"col-md-10"},[n("ModelViewer",{attrs:{lights:e.lights,"background-color":e.backgroundColor,"show-controls":!0,"visible-controls":e.visibleControls,src:e.src,cubemap:e.cubemap,statsjs:e.statsjs,datgui:e.datgui,rotation:e.rotate,playAnimation:e.anim}})],1)])])],1)},o=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mt-5 text-center"},[n("h2",[e._v("Vue.JS 3D Model Viewer Example")])])}],i=n("Womt"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a",{staticClass:"github-corner",attrs:{href:"https://github.com/XpycT/vue-3dmodel-viewer","aria-label":"View source on Github"}},[n("svg",{staticStyle:{fill:"#151513",color:"#fff",position:"absolute",top:"0",border:"0",right:"0","z-index":"20"},attrs:{width:"80",height:"80",viewBox:"0 0 250 250","aria-hidden":"true"}},[n("path",{attrs:{d:"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"}}),n("path",{staticClass:"octo-arm",staticStyle:{"transform-origin":"130px 106px"},attrs:{d:"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2",fill:"currentColor"}}),n("path",{staticClass:"octo-body",attrs:{d:"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z",fill:"currentColor"}})])])},l=[],c=(n("lYJ6"),n("KHd+")),u={},d=Object(c["a"])(u,s,l,!1,null,"9ffada10",null),p=d.exports,h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.suportWebGL?n("div",{staticClass:"model-viewer"},[n("div",{staticClass:"overlays"},[n("div",{staticClass:"overlay help",class:e.showHelp?"":"hidden"},[n("a",{staticClass:"close",attrs:{href:"#"},on:{click:e.toggleHelp}},[n("i",{staticClass:"fas fa-times"})]),e._m(0)])]),n("div",{staticClass:"webgl"},[n("div",{ref:"datgui",attrs:{id:"datgui"}}),n("canvas",{ref:"canvas"}),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showControls,expression:"showControls"}],staticClass:"gui enabled"},[n("div",{staticClass:"controls"},[n("div",{staticClass:"general-controls"},[n("a",{directives:[{name:"show",rawName:"v-show",value:e.visibleControls.help,expression:"visibleControls.help"}],staticClass:"control control-tooltip",attrs:{"data-tooltip":"Help"},on:{click:e.toggleHelp}},[n("i",{staticClass:"fas fa-question"})]),n("a",{directives:[{name:"show",rawName:"v-show",value:e.visibleControls.download,expression:"visibleControls.download"}],staticClass:"control control-tooltip",attrs:{"data-tooltip":"Download"},on:{click:e.downloadModel}},[n("i",{staticClass:"fas fa-download"})]),n("a",{directives:[{name:"show",rawName:"v-show",value:e.visibleControls.fullscreen,expression:"visibleControls.fullscreen"}],staticClass:"control control-tooltip tooltip-right-bound",attrs:{"data-tooltip":"Fullscreen"},on:{click:e.toggleFullscreen}},[n("i",{staticClass:"fas",class:e.fullscreen?"fa-compress":"fa-expand-arrows-alt"})])])])])])]):n("div",[e._t("error",[e._v("\n    Your graphics card does not seem to support\n    "),n("a",{staticStyle:{color:"#000"},attrs:{href:"http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation"}},[e._v("WebGL")]),e._v("."),n("br"),e._v("\n    Find out how to get it "),n("a",{staticStyle:{color:"#000"},attrs:{href:"http://get.webgl.org/"}},[e._v("here")]),e._v(".\n  ")])],2)},m=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"inner"},[n("div",{staticClass:"tip"},[n("div",[n("i",{staticClass:"fas fa-sync-alt"})]),n("div",[n("b",[e._v("Orbit around")]),n("div",[e._v("Left mouse + drag or"),n("br"),e._v("One finger drag (touch)")])])]),n("div",{staticClass:"tip"},[n("div",[n("i",{staticClass:"fas fa-search-plus"})]),n("div",[n("b",[e._v("Zoom")]),n("div",[e._v("Middle mouse or mousewheel"),n("br"),e._v("Two-finger spread or squish (touch)")])])]),n("div",{staticClass:"tip"},[n("div",[n("i",{staticClass:"fas fa-arrows-alt"})]),n("div",[n("b",[e._v("Pan")]),n("div",[e._v("Right mouse + drag or arraow keys"),n("br"),e._v("Two fingers drag (touch)")])])])])}],f=(n("rGqo"),n("f3/d"),n("xfY5"),n("yt8O"),n("Zz4T"),function(e,t){this.object=e,this.domElement=void 0!==t?t:document,this.enabled=!0,this.target=new i["lc"],this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.25,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!1,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={ORBIT:i["bb"].LEFT,ZOOM:i["bb"].MIDDLE,PAN:i["bb"].RIGHT},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return u.phi},this.getAzimuthalAngle=function(){return u.theta},this.saveState=function(){n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=function(){n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(r),n.update(),l=s.NONE},this.update=function(){var t=new i["lc"],a=(new i["Cb"]).setFromUnitVectors(e.up,new i["lc"](0,1,0)),o=a.clone().inverse(),f=new i["lc"],v=new i["Cb"];return function(){var e=n.object.position;return t.copy(e).sub(n.target),t.applyQuaternion(a),u.setFromVector3(t),n.autoRotate&&l===s.NONE&&L(S()),u.theta+=d.theta,u.phi+=d.phi,u.theta=Math.max(n.minAzimuthAngle,Math.min(n.maxAzimuthAngle,u.theta)),u.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,u.phi)),u.makeSafe(),u.radius*=p,u.radius=Math.max(n.minDistance,Math.min(n.maxDistance,u.radius)),n.target.add(h),t.setFromSpherical(u),t.applyQuaternion(o),e.copy(n.target).add(t),n.object.lookAt(n.target),!0===n.enableDamping?(d.theta*=1-n.dampingFactor,d.phi*=1-n.dampingFactor,h.multiplyScalar(1-n.dampingFactor)):(d.set(0,0,0),h.set(0,0,0)),p=1,!!(m||f.distanceToSquared(n.object.position)>c||8*(1-v.dot(n.object.quaternion))>c)&&(n.dispatchEvent(r),f.copy(n.object.position),v.copy(n.object.quaternion),m=!1,!0)}}(),this.dispose=function(){n.domElement.removeEventListener("contextmenu",te,!1),n.domElement.removeEventListener("mousedown",X,!1),n.domElement.removeEventListener("wheel",q,!1),n.domElement.removeEventListener("touchstart",J,!1),n.domElement.removeEventListener("touchend",ee,!1),n.domElement.removeEventListener("touchmove",Q,!1),document.removeEventListener("mousemove",Z,!1),document.removeEventListener("mouseup",W,!1),window.removeEventListener("keydown",$,!1)};var n=this,r={type:"change"},a={type:"start"},o={type:"end"},s={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY_PAN:4},l=s.NONE,c=1e-6,u=new i["Rb"],d=new i["Rb"],p=1,h=new i["lc"],m=!1,f=new i["kc"],v=new i["kc"],g=new i["kc"],b=new i["kc"],y=new i["kc"],w=new i["kc"],M=new i["kc"],T=new i["kc"],A=new i["kc"];function S(){return 2*Math.PI/60/60*n.autoRotateSpeed}function E(){return Math.pow(.95,n.zoomSpeed)}function L(e){d.theta-=e}function x(e){d.phi-=e}var R=function(){var e=new i["lc"];return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),h.add(e)}}(),C=function(){var e=new i["lc"];return function(t,r){!0===n.screenSpacePanning?e.setFromMatrixColumn(r,1):(e.setFromMatrixColumn(r,0),e.crossVectors(n.object.up,e)),e.multiplyScalar(t),h.add(e)}}(),_=function(){var e=new i["lc"];return function(t,r){var a=n.domElement===document?n.domElement.body:n.domElement;if(n.object.isPerspectiveCamera){var o=n.object.position;e.copy(o).sub(n.target);var i=e.length();i*=Math.tan(n.object.fov/2*Math.PI/180),R(2*t*i/a.clientHeight,n.object.matrix),C(2*r*i/a.clientHeight,n.object.matrix)}else n.object.isOrthographicCamera?(R(t*(n.object.right-n.object.left)/n.object.zoom/a.clientWidth,n.object.matrix),C(r*(n.object.top-n.object.bottom)/n.object.zoom/a.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}}();function O(e){n.object.isPerspectiveCamera?p/=e:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom*e)),n.object.updateProjectionMatrix(),m=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function I(e){n.object.isPerspectiveCamera?p*=e:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/e)),n.object.updateProjectionMatrix(),m=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function P(e){f.set(e.clientX,e.clientY)}function D(e){M.set(e.clientX,e.clientY)}function j(e){b.set(e.clientX,e.clientY)}function G(e){v.set(e.clientX,e.clientY),g.subVectors(v,f).multiplyScalar(n.rotateSpeed);var t=n.domElement===document?n.domElement.body:n.domElement;L(2*Math.PI*g.x/t.clientHeight),x(2*Math.PI*g.y/t.clientHeight),f.copy(v),n.update()}function F(e){T.set(e.clientX,e.clientY),A.subVectors(T,M),A.y>0?O(E()):A.y<0&&I(E()),M.copy(T),n.update()}function k(e){y.set(e.clientX,e.clientY),w.subVectors(y,b).multiplyScalar(n.panSpeed),_(w.x,w.y),b.copy(y),n.update()}function N(e){}function H(e){e.deltaY<0?I(E()):e.deltaY>0&&O(E()),n.update()}function U(e){switch(e.keyCode){case n.keys.UP:_(0,n.keyPanSpeed),n.update();break;case n.keys.BOTTOM:_(0,-n.keyPanSpeed),n.update();break;case n.keys.LEFT:_(n.keyPanSpeed,0),n.update();break;case n.keys.RIGHT:_(-n.keyPanSpeed,0),n.update();break}}function B(e){f.set(e.touches[0].pageX,e.touches[0].pageY)}function z(e){if(n.enableZoom){var t=e.touches[0].pageX-e.touches[1].pageX,r=e.touches[0].pageY-e.touches[1].pageY,a=Math.sqrt(t*t+r*r);M.set(0,a)}if(n.enablePan){var o=.5*(e.touches[0].pageX+e.touches[1].pageX),i=.5*(e.touches[0].pageY+e.touches[1].pageY);b.set(o,i)}}function K(e){v.set(e.touches[0].pageX,e.touches[0].pageY),g.subVectors(v,f).multiplyScalar(n.rotateSpeed);var t=n.domElement===document?n.domElement.body:n.domElement;L(2*Math.PI*g.x/t.clientHeight),x(2*Math.PI*g.y/t.clientHeight),f.copy(v),n.update()}function V(e){if(n.enableZoom){var t=e.touches[0].pageX-e.touches[1].pageX,r=e.touches[0].pageY-e.touches[1].pageY,a=Math.sqrt(t*t+r*r);T.set(0,a),A.set(0,Math.pow(T.y/M.y,n.zoomSpeed)),O(A.y),M.copy(T)}if(n.enablePan){var o=.5*(e.touches[0].pageX+e.touches[1].pageX),i=.5*(e.touches[0].pageY+e.touches[1].pageY);y.set(o,i),w.subVectors(y,b).multiplyScalar(n.panSpeed),_(w.x,w.y),b.copy(y)}n.update()}function Y(e){}function X(e){if(!1!==n.enabled){switch(e.preventDefault(),e.button){case n.mouseButtons.ORBIT:if(!1===n.enableRotate)return;P(e),l=s.ROTATE;break;case n.mouseButtons.ZOOM:if(!1===n.enableZoom)return;D(e),l=s.DOLLY;break;case n.mouseButtons.PAN:if(!1===n.enablePan)return;j(e),l=s.PAN;break}l!==s.NONE&&(document.addEventListener("mousemove",Z,!1),document.addEventListener("mouseup",W,!1),n.dispatchEvent(a))}}function Z(e){if(!1!==n.enabled)switch(e.preventDefault(),l){case s.ROTATE:if(!1===n.enableRotate)return;G(e);break;case s.DOLLY:if(!1===n.enableZoom)return;F(e);break;case s.PAN:if(!1===n.enablePan)return;k(e);break}}function W(e){!1!==n.enabled&&(N(e),document.removeEventListener("mousemove",Z,!1),document.removeEventListener("mouseup",W,!1),n.dispatchEvent(o),l=s.NONE)}function q(e){!1===n.enabled||!1===n.enableZoom||l!==s.NONE&&l!==s.ROTATE||(e.preventDefault(),e.stopPropagation(),n.dispatchEvent(a),H(e),n.dispatchEvent(o))}function $(e){!1!==n.enabled&&!1!==n.enableKeys&&!1!==n.enablePan&&U(e)}function J(e){if(!1!==n.enabled){switch(e.preventDefault(),e.touches.length){case 1:if(!1===n.enableRotate)return;B(e),l=s.TOUCH_ROTATE;break;case 2:if(!1===n.enableZoom&&!1===n.enablePan)return;z(e),l=s.TOUCH_DOLLY_PAN;break;default:l=s.NONE}l!==s.NONE&&n.dispatchEvent(a)}}function Q(e){if(!1!==n.enabled)switch(e.preventDefault(),e.stopPropagation(),e.touches.length){case 1:if(!1===n.enableRotate)return;if(l!==s.TOUCH_ROTATE)return;K(e);break;case 2:if(!1===n.enableZoom&&!1===n.enablePan)return;if(l!==s.TOUCH_DOLLY_PAN)return;V(e);break;default:l=s.NONE}}function ee(e){!1!==n.enabled&&(Y(e),n.dispatchEvent(o),l=s.NONE)}function te(e){!1!==n.enabled&&e.preventDefault()}n.domElement.addEventListener("contextmenu",te,!1),n.domElement.addEventListener("mousedown",X,!1),n.domElement.addEventListener("wheel",q,!1),n.domElement.addEventListener("touchstart",J,!1),n.domElement.addEventListener("touchend",ee,!1),n.domElement.addEventListener("touchmove",Q,!1),window.addEventListener("keydown",$,!1),this.update()});f.prototype=Object.create(i["y"].prototype),f.prototype.constructor=f,Object.defineProperties(f.prototype,{center:{get:function(){return console.warn("THREE.OrbitControls: .center has been renamed to .target"),this.target}},noZoom:{get:function(){return console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),!this.enableZoom},set:function(e){console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),this.enableZoom=!e}},noRotate:{get:function(){return console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),!this.enableRotate},set:function(e){console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),this.enableRotate=!e}},noPan:{get:function(){return console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),!this.enablePan},set:function(e){console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),this.enablePan=!e}},noKeys:{get:function(){return console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),!this.enableKeys},set:function(e){console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),this.enableKeys=!e}},staticMoving:{get:function(){return console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),!this.enableDamping},set:function(e){console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),this.enableDamping=!e}},dynamicDampingFactor:{get:function(){return console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor},set:function(e){console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor=e}}});n("RW0V"),n("T39b"),n("Y9lz");var v={computeTangents:function(e){var t=e.index,n=e.attributes;if(null!==t&&void 0!==n.position&&void 0!==n.normal&&void 0!==n.uv){var r=t.array,a=n.position.array,o=n.normal.array,s=n.uv.array,l=a.length/3;void 0===n.tangent&&e.addAttribute("tangent",new i["k"](new Float32Array(4*l),4));for(var c=n.tangent.array,u=[],d=[],p=0;p<l;p++)u[p]=new i["lc"],d[p]=new i["lc"];var h=new i["lc"],m=new i["lc"],f=new i["lc"],v=new i["kc"],g=new i["kc"],b=new i["kc"],y=new i["lc"],w=new i["lc"],M=e.groups;0===M.length&&(M=[{start:0,count:r.length}]);for(var T=0,A=M.length;T<A;++T)for(var S=M[T],E=S.start,L=S.count,x=E,R=E+L;x<R;x+=3)z(r[x+0],r[x+1],r[x+2]);for(var C,_,O,I=new i["lc"],P=new i["lc"],D=new i["lc"],j=new i["lc"],G=0,F=M.length;G<F;++G)for(var k=M[G],N=k.start,H=k.count,U=N,B=N+H;U<B;U+=3)K(r[U+0]),K(r[U+1]),K(r[U+2])}else console.warn("THREE.BufferGeometry: Missing required attributes (index, position, normal or uv) in BufferGeometry.computeTangents()");function z(e,t,n){h.fromArray(a,3*e),m.fromArray(a,3*t),f.fromArray(a,3*n),v.fromArray(s,2*e),g.fromArray(s,2*t),b.fromArray(s,2*n);var r=m.x-h.x,o=f.x-h.x,i=m.y-h.y,l=f.y-h.y,c=m.z-h.z,p=f.z-h.z,M=g.x-v.x,T=b.x-v.x,A=g.y-v.y,S=b.y-v.y,E=1/(M*S-T*A);y.set((S*r-A*o)*E,(S*i-A*l)*E,(S*c-A*p)*E),w.set((M*o-T*r)*E,(M*l-T*i)*E,(M*p-T*c)*E),u[e].add(y),u[t].add(y),u[n].add(y),d[e].add(w),d[t].add(w),d[n].add(w)}function K(e){D.fromArray(o,3*e),j.copy(D),_=u[e],I.copy(_),I.sub(D.multiplyScalar(D.dot(_))).normalize(),P.crossVectors(j,_),O=P.dot(d[e]),C=O<0?-1:1,c[4*e]=I.x,c[4*e+1]=I.y,c[4*e+2]=I.z,c[4*e+3]=C}},mergeBufferGeometries:function(e,t){for(var n=null!==e[0].index,r=new Set(Object.keys(e[0].attributes)),a=new Set(Object.keys(e[0].morphAttributes)),o={},s={},l=new i["l"],c=0,u=0;u<e.length;++u){var d=e[u];if(n!==(null!==d.index))return null;for(var p in d.attributes){if(!r.has(p))return null;void 0===o[p]&&(o[p]=[]),o[p].push(d.attributes[p])}for(var h in d.morphAttributes){if(!a.has(h))return null;void 0===s[h]&&(s[h]=[]),s[h].push(d.morphAttributes[h])}if(l.userData.mergedUserData=l.userData.mergedUserData||[],l.userData.mergedUserData.push(d.userData),t){var m;if(n)m=d.index.count;else{if(void 0===d.attributes.position)return null;m=d.attributes.position.count}l.addGroup(c,m,u),c+=m}}if(n){for(var f=0,v=[],g=0;g<e.length;++g){for(var b=e[g].index,y=0;y<b.count;++y)v.push(b.getX(y)+f);f+=e[g].attributes.position.count}l.setIndex(v)}for(var w in o){var M=this.mergeBufferAttributes(o[w]);if(!M)return null;l.addAttribute(w,M)}for(var T in s){var A=s[T][0].length;if(0===A)break;l.morphAttributes=l.morphAttributes||{},l.morphAttributes[T]=[];for(var S=0;S<A;++S){for(var E=[],L=0;L<s[T].length;++L)E.push(s[T][L][S]);var x=this.mergeBufferAttributes(E);if(!x)return null;l.morphAttributes[T].push(x)}}return l},mergeBufferAttributes:function(e){for(var t,n,r,a=0,o=0;o<e.length;++o){var s=e[o];if(s.isInterleavedBufferAttribute)return null;if(void 0===t&&(t=s.array.constructor),t!==s.array.constructor)return null;if(void 0===n&&(n=s.itemSize),n!==s.itemSize)return null;if(void 0===r&&(r=s.normalized),r!==s.normalized)return null;a+=s.array.length}for(var l=new t(a),c=0,u=0;u<e.length;++u)l.set(e[u].array,c),c+=e[u].array.length;return new i["k"](l,n,r)}},g=new i["j"];function b(e){return g.setFromObject(e),g.getSize(new i["lc"])}function y(e){return g.setFromObject(e),g.getCenter(new i["lc"])}var w=n("zeJP"),M=n("MZFn"),T=n.n(M),A=n("iZKT"),S=function(){try{var e=document.createElement("canvas");return!(!window.WebGLRenderingContext||!e.getContext("webgl")&&!e.getContext("experimental-webgl"))}catch(e){return!1}}(),E={props:{src:{type:String},position:{type:Object,default:function(){return{x:0,y:0,z:0}}},rotation:{type:Object,default:function(){return{x:0,y:0,z:0}}},scale:{type:Object,default:function(){return{x:1,y:1,z:1}}},animationTime:{type:Number,default:0},playAnimation:{type:Boolean,default:!0},lights:{type:Array,default:function(){return[{type:"ambient",color:1973795},{type:"directional",color:13619151,position:new i["lc"](20,40,-15)}]}},backgroundColor:{default:4473924},backgroundAlpha:{type:Number,default:1},cameraPosition:{type:Object},cameraRotation:{type:Object},cameraUp:{type:Object},cameraLookAt:{type:Object},showControls:{type:Boolean,default:!0},visibleControls:{type:Object,default:function(){return{help:!0,download:!0,fullscreen:!0}}},controllable:{type:Boolean,default:!0},cubemap:{type:Array,default:function(){return[]}},statsjs:{type:Boolean,default:!1},datgui:{type:Boolean,default:!1}},data:function(){return{suportWebGL:S,fullscreen:!1,showHelp:!1,size:{width:this.width,height:this.height},initSize:{width:0,height:0},object:null,wrapper:new i["qb"],camera:new i["xb"](45,1,.01,1e5),scene:new i["Mb"],renderer:null,controls:null,allLights:[],envMap:null,loader:null,mixer:null,reqId:null,clock:new i["n"],stats:null,gui:null}},mounted:function(){void 0!==this.width&&void 0!==this.height||(this.size={width:this.$el.offsetWidth,height:this.$el.offsetHeight}),this.initSize=this.size,this.renderer=new i["pc"]({antialias:!0,alpha:!0,canvas:this.$refs.canvas}),this.renderer.shadowMap.enabled=!1,this.renderer.gammaOutput=!1,this.scene.background=new i["o"](this.backgroundColor).getHex(),this.scene.add(this.wrapper),this.load(),this.update(),window.addEventListener("keydown",this.onKeydown,!1),window.addEventListener("resize",this.onResize,!1),this.animate()},beforeDestroy:function(){cancelAnimationFrame(this.reqId),window.removeEventListener("keydown",this.onKeydown,!1),window.removeEventListener("resize",this.onResize,!1)},watch:{src:function(){this.load()},rotation:{deep:!0,handler:function(e){this.object&&this.object.rotation.set(e.x,e.y,e.z)}},position:{deep:!0,handler:function(e){this.object&&this.object.position.set(e.x,e.y,e.z)}},scale:{deep:!0,handler:function(e){this.object&&this.object.scale.set(e.x,e.y,e.z)}},lights:{deep:!0,handler:function(){this.updateLights()}},cubemap:{deep:!0,handler:function(){this.updateCubemaps()}},size:{deep:!0,handler:function(){this.updateCamera(),this.updateRenderer()}},controllable:function(){this.updateControls()},backgroundAlpha:function(){this.updateRenderer()},backgroundColor:function(){this.updateRenderer()},statsjs:function(){this.updateStats()},datgui:function(){this.updateDatGui()}},computed:{},methods:{onKeydown:function(e){console.log(e.which),32===e.which&&this.resetCameraView()},onResize:function(){var e=this;void 0!==this.width&&void 0!==this.height||this.$nextTick(function(){e.size={width:e.$el.offsetWidth,height:e.$el.offsetHeight}})},update:function(){this.updateRenderer(),this.updateCubemaps(),this.updateCamera(),this.updateLights(),this.updateControls(),this.updateStats(),this.updateDatGui()},updateStats:function(){this.statsjs?(this.stats=new T.a,this.stats.dom.id="stats-panel",this.stats.dom.style.position="absolute",this.stats.visible=!0,this.$el.appendChild(this.stats.dom)):document.getElementById("stats-panel")&&document.getElementById("stats-panel").remove()},updateDatGui:function(){var e=this;if(this.datgui){null!==this.gui&&this.gui.destroy(),this.gui=new A["a"]({autoPlace:!1}),this.gui.closed=!0,this.$refs.datgui.appendChild(this.gui.domElement);var t={model:{scale:{x:1,y:1,z:1},position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0},wireframe:!1}},n=function(e){return e*(Math.PI/180)},r=this.gui.addFolder("Model");r.add(t.model.scale,"x",.1,5).name("scaleX").onChange(function(t){return e.object.scale.x=t}),r.add(t.model.scale,"y",.1,5).name("scaleY").onChange(function(t){return e.object.scale.y=t}),r.add(t.model.scale,"z",.1,5).name("scaleZ").onChange(function(t){return e.object.scale.z=t}),r.add(t.model.position,"x",-150,150).name("positionX").onChange(function(t){return e.object.position.x=n(t)}),r.add(t.model.position,"y",-150,150).name("positionY").onChange(function(t){return e.object.position.y=n(t)}),r.add(t.model.position,"z",-150,150).name("positionZ").onChange(function(t){return e.object.position.z=n(t)}),r.add(t.model.rotation,"x",-180,180).name("rotationX").onChange(function(t){return e.object.rotation.x=n(t)}),r.add(t.model.rotation,"y",-180,180).name("rotationY").onChange(function(t){return e.object.rotation.y=n(t)}),r.add(t.model.rotation,"z",-180,180).name("rotationZ").onChange(function(t){return e.object.rotation.z=n(t)});var a=r.add(t.model,"wireframe").name("wireframe").listen();a.onChange(function(t){e.object.traverse(function(e){e.isMesh&&(e.material.wireframe=t)})});var o=this.gui.addFolder("Camera");o.add(this.camera.position,"x",-20,20).name("position x"),o.add(this.camera.position,"y",-20,20).name("position y"),o.add(this.camera.position,"z",-20,20).name("position z")}},updateModel:function(){var e=this.object;if(e){var t=this.position,n=this.rotation,r=this.scale;e.position.set(t.x,t.y,t.z),e.rotation.set(n.x,n.y,n.z),e.scale.set(r.x,r.y,r.z)}},updateRenderer:function(){var e=this.renderer;e.setSize(this.size.width,this.size.height),e.setPixelRatio(window.devicePixelRatio||1),e.setClearColor(new i["o"](this.backgroundColor).getHex()),e.setClearAlpha(this.backgroundAlpha)},updateCubemaps:function(){0!==this.cubemap.length&&(this.envMap=(new i["q"]).load(this.cubemap),this.envMap.format=i["Hb"],this.scene.background=this.envMap)},updateCamera:function(){var e=this.camera,t=this.object;if(e.aspect=this.size.width/this.size.height,e.updateProjectionMatrix(),this.cameraLookAt||this.cameraPosition||this.cameraRotation||this.cameraUp)e.position.set(this.cameraPosition.x,this.cameraPosition.y,this.cameraPosition.z),e.rotation.set(this.cameraRotation.x,this.cameraRotation.y,this.cameraRotation.z),e.up.set(this.cameraUp.x,this.cameraUp.y,this.cameraUp.z),e.lookAt(new i["lc"](this.cameraLookAt.x,this.cameraLookAt.y,this.cameraLookAt.z));else{if(!t)return;var n=b(t).length();e.position.set(0,0,0),e.position.z=n,e.lookAt(new i["lc"])}},updateLights:function(){var e=this;this.scene.remove.apply(this.scene,this.allLights),this.allLights=[],this.lights.forEach(function(t){if(t.type){var n=t.type.toLowerCase(),r=null;if("ambient"===n||"ambientlight"===n){var a=t.color||4210752,o=t.intensity||1;r=new i["d"](a,o)}else if("point"===n||"pointlight"===n){var s=t.color||16777215,l=t.intensity||1,c=t.distance||0,u=t.decay||1;r=new i["yb"](s,l,c,u),t.position&&r.position.copy(t.position)}else if("directional"===n||"directionallight"===n){var d=t.color||16777215,p=t.intensity||1;r=new i["s"](d,p),t.position&&r.position.copy(t.position),t.target&&r.target.copy(t.target)}else if("hemisphere"===n||"hemispherelight"===n){var h=t.skyColor||16777215,m=t.groundColor||16777215,f=t.intensity||1;r=new i["E"](h,m,f),t.position&&r.position.copy(t.position)}e.allLights.push(r),e.scene.add(r)}})},updateControls:function(){if(!this.controllable||!this.controls)if(this.controllable){if(this.controls)return;this.controls=new f(this.camera,this.$refs.canvas),this.controls.enableDamping=!0,this.controls.dampingFactor=.25,this.controls.type="orbit",this.controls.update()}else this.controls&&(this.controls.dispose(),this.controls=null)},animate:function(){this.reqId=requestAnimationFrame(this.animate),this.controls.update(),this.statsjs&&null!==this.stats&&this.stats.update(),this.mixer&&this.mixer.update(this.clock.getDelta()),this.render()},render:function(){this.renderer.render(this.scene,this.camera)},toggleFullscreen:function(){var e=this;w["a"].enabled&&(w["a"].toggle(this.$el),w["a"].on("change",function(){e.fullscreen=w["a"].isFullscreen,w["a"].isFullscreen||(e.size=e.initSize),e.updateCamera(),e.updateRenderer()}))},resetCameraView:function(){this.controls.reset()},toggleHelp:function(){this.showHelp=!this.showHelp},downloadModel:function(){},load:function(){var e=this;this.src&&(this.object&&this.wrapper.remove(this.object),this.loader.load(this.src,function(){var t=e.getObject.apply(e,arguments);e.process&&e.process(t),e.addObject(t),e.$emit("on-load")},function(t){e.$emit("on-progress",t),console.log(t.loaded/t.total*100+"% loaded")},function(t){e.$emit("on-error",t),console.log("on-error",t)}))},getObject:function(e){return e},addObject:function(e){var t=y(e);this.wrapper.position.copy(t.negate()),this.object=e,this.wrapper.add(e),this.updateCamera(),this.updateModel()}}},L=E,x=(n("/95P"),Object(c["a"])(L,h,m,!1,null,"255f57c2",null)),R=x.exports,C=(n("tuSo"),n("NO8f"),function e(t){i["p"].call(this,t),this._parser=e.parse});C.prototype=Object.create(i["p"].prototype),C.prototype.constructor=C,C.parse=function(e,t){var n={mipmaps:[],width:0,height:0,format:null,mipmapCount:1},r=542327876,a=131072,o=512,s=1024,l=2048,c=4096,u=8192,d=16384,p=32768,h=4;function m(e){return e.charCodeAt(0)+(e.charCodeAt(1)<<8)+(e.charCodeAt(2)<<16)+(e.charCodeAt(3)<<24)}function f(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)}function v(e,t,n,r){for(var a=n*r*4,o=new Uint8Array(e,t,a),i=new Uint8Array(a),s=0,l=0,c=0;c<r;c++)for(var u=0;u<n;u++){var d=o[l];l++;var p=o[l];l++;var h=o[l];l++;var m=o[l];l++,i[s]=h,s++,i[s]=p,s++,i[s]=d,s++,i[s]=m,s++}return i}var g,b=m("DXT1"),y=m("DXT3"),w=m("DXT5"),M=m("ETC1"),T=31,A=0,S=1,E=2,L=3,x=4,R=7,C=20,_=21,O=22,I=23,P=24,D=25,j=26,G=28,F=new Int32Array(e,0,T);if(F[A]!==r)return console.error("THREE.DDSLoader.parse: Invalid magic number in DDS header."),n;if(!F[C]&h)return console.error("THREE.DDSLoader.parse: Unsupported format, must contain a FourCC code."),n;var k=F[_],N=!1;switch(k){case b:g=8,n.format=i["Jb"];break;case y:g=16,n.format=i["Fb"];break;case w:g=16,n.format=i["Gb"];break;case M:g=8,n.format=i["Ib"];break;default:if(!(32===F[O]&&16711680&F[I]&&65280&F[P]&&255&F[D]&&4278190080&F[j]))return console.error("THREE.DDSLoader.parse: Unsupported FourCC code ",f(k)),n;N=!0,g=64,n.format=i["Eb"]}n.mipmapCount=1,F[E]&a&&!1!==t&&(n.mipmapCount=Math.max(1,F[R]));var H=F[G];if(n.isCubemap=!!(H&o),n.isCubemap&&(!(H&s)||!(H&l)||!(H&c)||!(H&u)||!(H&d)||!(H&p)))return console.error("THREE.DDSLoader.parse: Incomplete cubemap faces"),n;n.width=F[x],n.height=F[L];for(var U=F[S]+4,B=n.isCubemap?6:1,z=0;z<B;z++)for(var K=n.width,V=n.height,Y=0;Y<n.mipmapCount;Y++){if(N)var X=v(e,U,K,V),Z=X.length;else Z=Math.max(4,K)/4*Math.max(4,V)/4*g,X=new Uint8Array(e,U,Z);var W={data:X,width:K,height:V};n.mipmaps.push(W),U+=Z,K=Math.max(K>>1,1),V=Math.max(V>>1,1)}return n};var _=n("a94B"),O=(n("a1Th"),n("nCnK"),n("r1bV"),n("Faw5"),n("sFw1"),function(e){this.timeLoaded=0,this.manager=e||i["r"],this.materials=null,this.verbosity=0,this.attributeOptions={},this.drawMode=i["bc"],this.nativeAttributeMap={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"}});O.prototype={constructor:O,load:function(e,t,n,r){var a=this,o=new i["z"](a.manager);o.setPath(this.path),o.setResponseType("arraybuffer"),o.load(e,function(e){a.decodeDracoFile(e,t)},n,r)},setPath:function(e){return this.path=e,this},setVerbosity:function(e){return this.verbosity=e,this},setDrawMode:function(e){return this.drawMode=e,this},setSkipDequantization:function(e,t){var n=!0;return"undefined"!==typeof t&&(n=t),this.getAttributeOptions(e).skipDequantization=n,this},decodeDracoFile:function(e,t,n,r){var a=this;O.getDecoderModule().then(function(o){a.decodeDracoFileInternal(e,o.decoder,t,n||{},r||{})})},decodeDracoFileInternal:function(e,t,n,r,a){var o=new t.DecoderBuffer;o.Init(new Int8Array(e),e.byteLength);var i=new t.Decoder,s=i.GetEncodedGeometryType(o);if(s==t.TRIANGULAR_MESH)this.verbosity>0&&console.log("Loaded a mesh.");else{if(s!=t.POINT_CLOUD){var l="DRACOLoader: Unknown geometry type.";throw console.error(l),new Error(l)}this.verbosity>0&&console.log("Loaded a point cloud.")}n(this.convertDracoGeometryTo3JS(t,i,s,o,r,a))},addAttributeToGeometry:function(e,t,n,r,a,o,s,l){if(0===o.ptr){var c="DRACOLoader: No attribute "+r;throw console.error(c),new Error(c)}var u,d,p=o.num_components(),h=n.num_points(),m=h*p;switch(a){case Float32Array:u=new e.DracoFloat32Array,t.GetAttributeFloatForAllPoints(n,o,u),l[r]=new Float32Array(m),d=i["A"];break;case Int8Array:u=new e.DracoInt8Array,t.GetAttributeInt8ForAllPoints(n,o,u),l[r]=new Int8Array(m),d=i["H"];break;case Int16Array:u=new e.DracoInt16Array,t.GetAttributeInt16ForAllPoints(n,o,u),l[r]=new Int16Array(m),d=i["F"];break;case Int32Array:u=new e.DracoInt32Array,t.GetAttributeInt32ForAllPoints(n,o,u),l[r]=new Int32Array(m),d=i["G"];break;case Uint8Array:u=new e.DracoUInt8Array,t.GetAttributeUInt8ForAllPoints(n,o,u),l[r]=new Uint8Array(m),d=i["ec"];break;case Uint16Array:u=new e.DracoUInt16Array,t.GetAttributeUInt16ForAllPoints(n,o,u),l[r]=new Uint16Array(m),d=i["cc"];break;case Uint32Array:u=new e.DracoUInt32Array,t.GetAttributeUInt32ForAllPoints(n,o,u),l[r]=new Uint32Array(m),d=i["dc"];break;default:c="DRACOLoader: Unexpected attribute type.";throw console.error(c),new Error(c)}for(var f=0;f<m;f++)l[r][f]=u.GetValue(f);s.addAttribute(r,new d(l[r],p)),e.destroy(u)},convertDracoGeometryTo3JS:function(e,t,n,r,a,o){var s,l;!0===this.getAttributeOptions("position").skipDequantization&&t.SkipAttributeTransform(e.POSITION);var c=performance.now();if(n===e.TRIANGULAR_MESH?(s=new e.Mesh,l=t.DecodeBufferToMesh(r,s)):(s=new e.PointCloud,l=t.DecodeBufferToPointCloud(r,s)),!l.ok()||0==s.ptr){var u="DRACOLoader: Decoding failed: ";throw u+=l.error_msg(),console.error(u),e.destroy(t),e.destroy(s),new Error(u)}var d,p=performance.now();e.destroy(r),n==e.TRIANGULAR_MESH?(d=s.num_faces(),this.verbosity>0&&console.log("Number of faces loaded: "+d.toString())):d=0;var h=s.num_points(),m=s.num_attributes();this.verbosity>0&&(console.log("Number of points loaded: "+h.toString()),console.log("Number of attributes loaded: "+m.toString()));var f=t.GetAttributeId(s,e.POSITION);if(-1==f){u="DRACOLoader: No position attribute found.";throw console.error(u),e.destroy(t),e.destroy(s),new Error(u)}var v=t.GetAttribute(s,f),g={},b=new i["l"];for(var y in this.nativeAttributeMap)if(void 0===a[y]){var w=t.GetAttributeId(s,e[this.nativeAttributeMap[y]]);if(-1!==w){this.verbosity>0&&console.log("Loaded "+y+" attribute.");var M=t.GetAttribute(s,w);this.addAttributeToGeometry(e,t,s,y,Float32Array,M,b,g)}}for(var y in a){var T=o[y]||Float32Array,A=a[y];M=t.GetAttributeByUniqueId(s,A);this.addAttributeToGeometry(e,t,s,y,T,M,b,g)}if(n==e.TRIANGULAR_MESH)if(this.drawMode===i["ac"]){var S=new e.DracoInt32Array;t.GetTriangleStripsFromMesh(s,S);g.indices=new Uint32Array(S.size());for(var E=0;E<S.size();++E)g.indices[E]=S.GetValue(E);e.destroy(S)}else{var L=3*d;g.indices=new Uint32Array(L);var x=new e.DracoInt32Array;for(E=0;E<d;++E){t.GetFaceFromMesh(s,E,x);var R=3*E;g.indices[R]=x.GetValue(0),g.indices[R+1]=x.GetValue(1),g.indices[R+2]=x.GetValue(2)}e.destroy(x)}b.drawMode=this.drawMode,n==e.TRIANGULAR_MESH&&b.setIndex(new(g.indices.length>65535?i["dc"]:i["cc"])(g.indices,1));var C=new e.AttributeQuantizationTransform;if(C.InitFromAttribute(v)){b.attributes["position"].isQuantized=!0,b.attributes["position"].maxRange=C.range(),b.attributes["position"].numQuantizationBits=C.quantization_bits(),b.attributes["position"].minValues=new Float32Array(3);for(E=0;E<3;++E)b.attributes["position"].minValues[E]=C.min_value(E)}return e.destroy(C),e.destroy(t),e.destroy(s),this.decode_time=p-c,this.import_time=performance.now()-p,this.verbosity>0&&(console.log("Decode time: "+this.decode_time),console.log("Import time: "+this.import_time)),b},isVersionSupported:function(e,t){O.getDecoderModule().then(function(n){t(n.decoder.isVersionSupported(e))})},getAttributeOptions:function(e){return"undefined"===typeof this.attributeOptions[e]&&(this.attributeOptions[e]={}),this.attributeOptions[e]}},O.decoderPath="./",O.decoderConfig={},O.decoderModulePromise=null,O.setDecoderPath=function(e){O.decoderPath=e},O.setDecoderConfig=function(e){var t=O.decoderConfig.wasmBinary;O.decoderConfig=e||{},O.releaseDecoderModule(),t&&(O.decoderConfig.wasmBinary=t)},O.releaseDecoderModule=function(){O.decoderModulePromise=null},O.getDecoderModule=function(){var e=this,t=O.decoderPath,n=O.decoderConfig,r=O.decoderModulePromise;return r||("undefined"!==typeof DracoDecoderModule?r=Promise.resolve():"object"!==("undefined"===typeof WebAssembly?"undefined":Object(_["a"])(WebAssembly))||"js"===n.type?r=O._loadScript(t+"draco_decoder.js"):(n.wasmBinaryFile=t+"draco_decoder.wasm",r=O._loadScript(t+"draco_wasm_wrapper.js").then(function(){return O._loadArrayBuffer(n.wasmBinaryFile)}).then(function(e){n.wasmBinary=e})),r=r.then(function(){return new Promise(function(t){n.onModuleLoaded=function(n){e.timeLoaded=performance.now(),t({decoder:n})},DracoDecoderModule(n)})}),O.decoderModulePromise=r,r)},O._loadScript=function(e){var t=document.getElementById("decoder_script");null!==t&&t.parentNode.removeChild(t);var n=document.getElementsByTagName("head")[0],r=document.createElement("script");return r.id="decoder_script",r.type="text/javascript",r.src=e,new Promise(function(e){r.onload=e,n.appendChild(r)})},O._loadArrayBuffer=function(e){var t=new i["z"];return t.setResponseType("arraybuffer"),new Promise(function(n,r){t.load(e,n,void 0,r)})};n("pIFo");var I=function(){function e(e){this.manager=void 0!==e?e:i["r"],this.dracoLoader=null}function t(){var e={};return{get:function(t){return e[t]},add:function(t,n){e[t]=n},remove:function(t){delete e[t]},removeAll:function(){e={}}}}e.prototype={constructor:e,crossOrigin:"anonymous",load:function(e,t,n,r){var a=this,o=void 0!==this.path?this.path:i["Y"].extractUrlBase(e),s=new i["z"](a.manager);s.setResponseType("arraybuffer"),s.load(e,function(e){try{a.parse(e,o,t,r)}catch(e){if(void 0===r)throw e;r(e)}},n,r)},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this},setDRACOLoader:function(e){return this.dracoLoader=e,this},parse:function(e,t,l,c){var h,m={};if("string"===typeof e)h=e;else{var f=i["Y"].decodeText(new Uint8Array(e,0,4));if(f===s){try{m[n.KHR_BINARY_GLTF]=new u(e)}catch(e){return void(c&&c(e))}h=m[n.KHR_BINARY_GLTF].content}else h=i["Y"].decodeText(new Uint8Array(e))}var v=JSON.parse(h);if(void 0===v.asset||v.asset.version[0]<2)c&&c(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported. Use LegacyGLTFLoader instead."));else{if(v.extensionsUsed)for(var g=0;g<v.extensionsUsed.length;++g){var b=v.extensionsUsed[g],y=v.extensionsRequired||[];switch(b){case n.KHR_LIGHTS:m[b]=new a(v);break;case n.KHR_MATERIALS_UNLIT:m[b]=new o(v);break;case n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:m[b]=new p;break;case n.KHR_DRACO_MESH_COMPRESSION:m[b]=new d(v,this.dracoLoader);break;case n.MSFT_TEXTURE_DDS:m[n.MSFT_TEXTURE_DDS]=new r;break;default:y.indexOf(b)>=0&&console.warn('THREE.GLTFLoader: Unknown extension "'+b+'".')}}var w=new H(v,m,{path:t||this.path||"",crossOrigin:this.crossOrigin,manager:this.manager});w.parse(function(e,t,n,r,a){var o={scene:e,scenes:t,cameras:n,animations:r,asset:a.asset,parser:w,userData:{}};R(m,o,a),l(o)},c)}}};var n={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS:"KHR_lights",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",MSFT_TEXTURE_DDS:"MSFT_texture_dds"};function r(){if(!C)throw new Error("THREE.GLTFLoader: Attempting to load .dds texture without importing DDSLoader");this.name=n.MSFT_TEXTURE_DDS,this.ddsLoader=new C}function a(e){this.name=n.KHR_LIGHTS,this.lights={};var t=e.extensions&&e.extensions[n.KHR_LIGHTS]||{},r=t.lights||{};for(var a in r){var o,s=r[a],l=(new i["o"]).fromArray(s.color);switch(s.type){case"directional":o=new i["s"](l),o.target.position.set(0,0,1),o.add(o.target);break;case"point":o=new i["yb"](l);break;case"spot":o=new i["Sb"](l),s.spot=s.spot||{},s.spot.innerConeAngle=void 0!==s.spot.innerConeAngle?s.spot.innerConeAngle:0,s.spot.outerConeAngle=void 0!==s.spot.outerConeAngle?s.spot.outerConeAngle:Math.PI/4,o.angle=s.spot.outerConeAngle,o.penumbra=1-s.spot.innerConeAngle/s.spot.outerConeAngle,o.target.position.set(0,0,1),o.add(o.target);break;case"ambient":o=new i["d"](l);break}o&&(o.decay=2,void 0!==s.intensity&&(o.intensity=s.intensity),o.name=s.name||"light_"+a,this.lights[a]=o)}}function o(e){this.name=n.KHR_MATERIALS_UNLIT}o.prototype.getMaterialType=function(e){return i["hb"]},o.prototype.extendParams=function(e,t,n){var r=[];e.color=new i["o"](1,1,1),e.opacity=1;var a=t.pbrMetallicRoughness;if(a){if(Array.isArray(a.baseColorFactor)){var o=a.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}void 0!==a.baseColorTexture&&r.push(n.assignTexture(e,"map",a.baseColorTexture.index))}return Promise.all(r)};var s="glTF",l=12,c={JSON:1313821514,BIN:5130562};function u(e){this.name=n.KHR_BINARY_GLTF,this.content=null,this.body=null;var t=new DataView(e,0,l);if(this.header={magic:i["Y"].decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==s)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected. Use LegacyGLTFLoader instead.");var r=new DataView(e,l),a=0;while(a<r.byteLength){var o=r.getUint32(a,!0);a+=4;var u=r.getUint32(a,!0);if(a+=4,u===c.JSON){var d=new Uint8Array(e,l+a,o);this.content=i["Y"].decodeText(d)}else if(u===c.BIN){var p=l+a;this.body=e.slice(p,p+o)}a+=o}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}function d(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=n.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t}function p(){return{name:n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,specularGlossinessParams:["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"],getMaterialType:function(){return i["Ob"]},extendParams:function(e,t,n){var r=t.extensions[this.name],a=i["Nb"]["standard"],o=i["fc"].clone(a.uniforms),s=["#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif"].join("\n"),l=["#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","#endif"].join("\n"),c=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\ttexelSpecular = sRGBToLinear( texelSpecular );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),u=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),d=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb;","material.specularRoughness = clamp( 1.0 - glossinessFactor, 0.04, 1.0 );","material.specularColor = specularFactor.rgb;"].join("\n"),p=a.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",s).replace("#include <metalnessmap_pars_fragment>",l).replace("#include <roughnessmap_fragment>",c).replace("#include <metalnessmap_fragment>",u).replace("#include <lights_physical_fragment>",d);delete o.roughness,delete o.metalness,delete o.roughnessMap,delete o.metalnessMap,o.specular={value:(new i["o"]).setHex(1118481)},o.glossiness={value:.5},o.specularMap={value:null},o.glossinessMap={value:null},e.vertexShader=a.vertexShader,e.fragmentShader=p,e.uniforms=o,e.defines={STANDARD:""},e.color=new i["o"](1,1,1),e.opacity=1;var h=[];if(Array.isArray(r.diffuseFactor)){var m=r.diffuseFactor;e.color.fromArray(m),e.opacity=m[3]}if(void 0!==r.diffuseTexture&&h.push(n.assignTexture(e,"map",r.diffuseTexture.index)),e.emissive=new i["o"](0,0,0),e.glossiness=void 0!==r.glossinessFactor?r.glossinessFactor:1,e.specular=new i["o"](1,1,1),Array.isArray(r.specularFactor)&&e.specular.fromArray(r.specularFactor),void 0!==r.specularGlossinessTexture){var f=r.specularGlossinessTexture.index;h.push(n.assignTexture(e,"glossinessMap",f)),h.push(n.assignTexture(e,"specularMap",f))}return Promise.all(h)},createMaterial:function(e){var t=new i["Ob"]({defines:e.defines,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader,uniforms:e.uniforms,fog:!0,lights:!0,opacity:e.opacity,transparent:e.transparent});return t.isGLTFSpecularGlossinessMaterial=!0,t.color=e.color,t.map=void 0===e.map?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=void 0===e.aoMap?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=1,t.emissiveMap=void 0===e.emissiveMap?null:e.emissiveMap,t.bumpMap=void 0===e.bumpMap?null:e.bumpMap,t.bumpScale=1,t.normalMap=void 0===e.normalMap?null:e.normalMap,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=void 0===e.specularMap?null:e.specularMap,t.specular=e.specular,t.glossinessMap=void 0===e.glossinessMap?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=void 0===e.envMap?null:e.envMap,t.envMapIntensity=1,t.refractionRatio=.98,t.extensions.derivatives=!0,t},cloneMaterial:function(e){var t=e.clone();t.isGLTFSpecularGlossinessMaterial=!0;for(var n=this.specularGlossinessParams,r=0,a=n.length;r<a;r++)t[n[r]]=e[n[r]];return t},refreshUniforms:function(e,t,n,r,a,o){if(!0===a.isGLTFSpecularGlossinessMaterial){var i,s=a.uniforms,l=a.defines;s.opacity.value=a.opacity,s.diffuse.value.copy(a.color),s.emissive.value.copy(a.emissive).multiplyScalar(a.emissiveIntensity),s.map.value=a.map,s.specularMap.value=a.specularMap,s.alphaMap.value=a.alphaMap,s.lightMap.value=a.lightMap,s.lightMapIntensity.value=a.lightMapIntensity,s.aoMap.value=a.aoMap,s.aoMapIntensity.value=a.aoMapIntensity,a.map?i=a.map:a.specularMap?i=a.specularMap:a.displacementMap?i=a.displacementMap:a.normalMap?i=a.normalMap:a.bumpMap?i=a.bumpMap:a.glossinessMap?i=a.glossinessMap:a.alphaMap?i=a.alphaMap:a.emissiveMap&&(i=a.emissiveMap),void 0!==i&&(i.isWebGLRenderTarget&&(i=i.texture),!0===i.matrixAutoUpdate&&i.updateMatrix(),s.uvTransform.value.copy(i.matrix)),s.envMap.value=a.envMap,s.envMapIntensity.value=a.envMapIntensity,s.flipEnvMap.value=a.envMap&&a.envMap.isCubeTexture?-1:1,s.refractionRatio.value=a.refractionRatio,s.specular.value.copy(a.specular),s.glossiness.value=a.glossiness,s.glossinessMap.value=a.glossinessMap,s.emissiveMap.value=a.emissiveMap,s.bumpMap.value=a.bumpMap,s.normalMap.value=a.normalMap,s.displacementMap.value=a.displacementMap,s.displacementScale.value=a.displacementScale,s.displacementBias.value=a.displacementBias,null!==s.glossinessMap.value&&void 0===l.USE_GLOSSINESSMAP&&(l.USE_GLOSSINESSMAP="",l.USE_ROUGHNESSMAP=""),null===s.glossinessMap.value&&void 0!==l.USE_GLOSSINESSMAP&&(delete l.USE_GLOSSINESSMAP,delete l.USE_ROUGHNESSMAP)}}}}function h(e,t,n,r){i["K"].call(this,e,t,n,r)}d.prototype.decodePrimitive=function(e,t){var n=this.json,r=this.dracoLoader,a=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,i={},s={},l={};for(var c in o)c in T&&(i[T[c]]=o[c]);for(c in e.attributes)if(void 0!==T[c]&&void 0!==o[c]){var u=n.accessors[e.attributes[c]],d=f[u.componentType];l[T[c]]=d,s[T[c]]=!0===u.normalized}return t.getDependency("bufferView",a).then(function(e){return new Promise(function(t){r.decodeDracoFile(e,function(e){for(var n in e.attributes){var r=e.attributes[n],a=s[n];void 0!==a&&(r.normalized=a)}t(e)},i,l)})})},h.prototype=Object.create(i["K"].prototype),h.prototype.constructor=h,h.prototype.interpolate_=function(e,t,n,r){for(var a=this.resultBuffer,o=this.sampleValues,i=this.valueSize,s=2*i,l=3*i,c=r-t,u=(n-t)/c,d=u*u,p=d*u,h=e*l,m=h-l,f=2*p-3*d+1,v=p-2*d+u,g=-2*p+3*d,b=p-d,y=0;y!==i;y++){var w=o[m+y+i],M=o[m+y+s]*c,T=o[h+y+i],A=o[h+y]*c;a[y]=f*w+v*M+g*T+b*A}return a};var m={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},f=(Number,i["eb"],i["fb"],i["kc"],i["lc"],i["mc"],i["Xb"],{5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array}),g={9728:i["kb"],9729:i["U"],9984:i["mb"],9985:i["W"],9986:i["lb"],9987:i["V"]},b={33071:i["m"],33648:i["jb"],10497:i["Kb"]},y={6406:i["b"],6407:i["Hb"],6408:i["Eb"],6409:i["ab"],6410:i["Z"]},w={5121:i["gc"],32819:i["hc"],32820:i["ic"],33635:i["jc"]},M=(i["h"],i["B"],i["nb"],i["O"],i["w"],i["P"],i["C"],i["ob"],i["C"],i["c"],i["a"],i["Wb"],i["Lb"],i["qc"],i["rb"],i["Vb"],i["vb"],i["Tb"],i["ub"],i["u"],i["sb"],i["v"],i["tb"],i["Ub"],{SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16}),T={POSITION:"position",NORMAL:"normal",TEXCOORD_0:"uv",TEXCOORD0:"uv",TEXCOORD:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",COLOR0:"color",COLOR:"color",WEIGHTS_0:"skinWeight",WEIGHT:"skinWeight",JOINTS_0:"skinIndex",JOINT:"skinIndex"},A={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},S={CUBICSPLINE:i["N"],LINEAR:i["M"],STEP:i["L"]},E={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function L(e,t){return"string"!==typeof e||""===e?"":/^(https?:)?\/\//i.test(e)?e:/^data:.*,.*$/i.test(e)?e:/^blob:.*$/i.test(e)?e:t+e}function x(){return new i["ib"]({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:i["B"]})}function R(e,t,n){for(var r in n.extensions)void 0===e[r]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[r]=n.extensions[r])}function _(e,t,n){for(var r=!1,a=!1,o=0,i=t.length;o<i;o++){var s=t[o];if(void 0!==s.POSITION&&(r=!0),void 0!==s.NORMAL&&(a=!0),r&&a)break}if(r||a){var l=[],c=[];for(o=0,i=t.length;o<i;o++){s=t[o];var u="morphTarget"+o;if(r){if(void 0!==s.POSITION){var d=k(n[s.POSITION]);d.name=u;for(var p=e.attributes.position,h=0,m=d.count;h<m;h++)d.setXYZ(h,d.getX(h)+p.getX(h),d.getY(h)+p.getY(h),d.getZ(h)+p.getZ(h))}else d=e.attributes.position;l.push(d)}if(a){if(void 0!==s.NORMAL){var f=k(n[s.NORMAL]);f.name=u;var v=e.attributes.normal;for(h=0,m=f.count;h<m;h++)f.setXYZ(h,f.getX(h)+v.getX(h),f.getY(h)+v.getY(h),f.getZ(h)+v.getZ(h))}else f=e.attributes.normal;c.push(f)}}r&&(e.morphAttributes.position=l),a&&(e.morphAttributes.normal=c)}}function O(e,t){if(e.updateMorphTargets(),void 0!==t.weights)for(var n=0,r=t.weights.length;n<r;n++)e.morphTargetInfluences[n]=t.weights[n];if(t.extras&&Array.isArray(t.extras.targetNames)){var a=t.extras.targetNames;if(e.morphTargetInfluences.length===a.length){e.morphTargetDictionary={};for(n=0,r=a.length;n<r;n++)e.morphTargetDictionary[a[n]]=n}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function I(e,t){return e.indices===t.indices&&P(e.attributes,t.attributes)}function P(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(e[n]!==t[n])return!1;return!0}function D(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function j(e,t){for(var n=0,r=e.length;n<r;n++){var a=e[n];if(I(a.primitive,t))return a.promise}return null}function G(e,t){for(var n=0,r=e.length;n<r;n++){var a=e[n];if(D(t,a.baseGeometries))return a.geometry}return null}function F(e,t,n){for(var r=0,a=e.length;r<a;r++){var o=e[r];if(t===o.baseGeometry&&D(n,o.primitives))return o.geometry}return null}function k(e){if(e.isInterleavedBufferAttribute){for(var t=e.count,n=e.itemSize,r=e.array.slice(0,t*n),a=0;a<t;++a)r[a]=e.getX(a),n>=2&&(r[a+1]=e.getY(a)),n>=3&&(r[a+2]=e.getZ(a)),n>=4&&(r[a+3]=e.getW(a));return new i["k"](r,n,e.normalized)}return e.clone()}function N(e){if(e.length<2)return!1;var t=e[0],n=t.targets||[];if(void 0===t.indices)return!1;for(var r=1,a=e.length;r<a;r++){var o=e[r];if(t.mode!==o.mode)return!1;if(void 0===o.indices)return!1;if(!P(t.attributes,o.attributes))return!1;var i=o.targets||[];if(n.length!==i.length)return!1;for(var s=0,l=n.length;s<l;s++)if(!P(n[s],i[s]))return!1}return!0}function H(e,n,r){this.json=e||{},this.extensions=n||{},this.options=r||{},this.cache=new t,this.primitiveCache=[],this.multiplePrimitivesCache=[],this.multiPassGeometryCache=[],this.textureLoader=new i["Yb"](this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.fileLoader=new i["z"](this.options.manager),this.fileLoader.setResponseType("arraybuffer")}function U(e,t,n){var r=t.attributes;for(var a in r){var o=T[a],i=n[r[a]];o&&(o in e.attributes||e.addAttribute(o,i))}void 0===t.indices||e.index||e.setIndex(n[t.indices]),void 0!==t.targets&&_(e,t.targets,n),void 0!==t.extras&&(e.userData=t.extras)}return H.prototype.parse=function(e,t){var n=this.json;this.cache.removeAll(),this.markDefs(),this.getMultiDependencies(["scene","animation","camera"]).then(function(t){var r=t.scenes||[],a=r[n.scene||0],o=t.animations||[],i=t.cameras||[];e(a,r,i,o,n)}).catch(t)},H.prototype.markDefs=function(){for(var e=this.json.nodes||[],t=this.json.skins||[],n=this.json.meshes||[],r={},a={},o=0,i=t.length;o<i;o++)for(var s=t[o].joints,l=0,c=s.length;l<c;l++)e[s[l]].isBone=!0;for(var u=0,d=e.length;u<d;u++){var p=e[u];void 0!==p.mesh&&(void 0===r[p.mesh]&&(r[p.mesh]=a[p.mesh]=0),r[p.mesh]++,void 0!==p.skin&&(n[p.mesh].isSkinnedMesh=!0))}this.json.meshReferences=r,this.json.meshUses=a},H.prototype.getDependency=function(e,t){var n=e+":"+t,r=this.cache.get(n);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this.loadNode(t);break;case"mesh":r=this.loadMesh(t);break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this.loadBufferView(t);break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this.loadMaterial(t);break;case"texture":r=this.loadTexture(t);break;case"skin":r=this.loadSkin(t);break;case"animation":r=this.loadAnimation(t);break;case"camera":r=this.loadCamera(t);break;default:throw new Error("Unknown type: "+e)}this.cache.add(n,r)}return r},H.prototype.getDependencies=function(e){var t=this.cache.get(e);if(!t){var n=this,r=this.json[e+("mesh"===e?"es":"s")]||[];t=Promise.all(r.map(function(t,r){return n.getDependency(e,r)})),this.cache.add(e,t)}return t},H.prototype.getMultiDependencies=function(e){for(var t={},n=[],r=0,a=e.length;r<a;r++){var o=e[r],i=this.getDependencies(o);i=i.then(function(e,n){t[e]=n}.bind(this,o+("mesh"===o?"es":"s"))),n.push(i)}return Promise.all(n).then(function(){return t})},H.prototype.loadBuffer=function(e){var t=this.json.buffers[e],r=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[n.KHR_BINARY_GLTF].body);var a=this.options;return new Promise(function(e,n){r.load(L(t.uri,a.path),e,void 0,function(){n(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})},H.prototype.loadBufferView=function(e){var t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(e){var n=t.byteLength||0,r=t.byteOffset||0;return e.slice(r,r+n)})},H.prototype.loadAccessor=function(e){var t=this,n=this.json,r=this.json.accessors[e];if(void 0===r.bufferView&&void 0===r.sparse)return null;var a=[];return void 0!==r.bufferView?a.push(this.getDependency("bufferView",r.bufferView)):a.push(null),void 0!==r.sparse&&(a.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),a.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(a).then(function(e){var a,o,s=e[0],l=M[r.type],c=f[r.componentType],u=c.BYTES_PER_ELEMENT,d=u*l,p=r.byteOffset||0,h=n.bufferViews[r.bufferView].byteStride,m=!0===r.normalized;if(h&&h!==d){var v="InterleavedBuffer:"+r.bufferView+":"+r.componentType,g=t.cache.get(v);g||(a=new c(s),g=new i["I"](a,h/u),t.cache.add(v,g)),o=new i["J"](g,l,p/u,m)}else a=null===s?new c(r.count*l):new c(s,p,r.count*l),o=new i["k"](a,l,m);if(void 0!==r.sparse){var b=M.SCALAR,y=f[r.sparse.indices.componentType],w=r.sparse.indices.byteOffset||0,T=r.sparse.values.byteOffset||0,A=new y(e[1],w,r.sparse.count*b),S=new c(e[2],T,r.sparse.count*l);null!==s&&o.setArray(o.array.slice());for(var E=0,L=A.length;E<L;E++){var x=A[E];if(o.setX(x,S[E*l]),l>=2&&o.setY(x,S[E*l+1]),l>=3&&o.setZ(x,S[E*l+2]),l>=4&&o.setW(x,S[E*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return o})},H.prototype.loadTexture=function(e){var t,r=this,a=this.json,o=this.options,s=this.textureLoader,l=window.URL||window.webkitURL,c=a.textures[e],u=c.extensions||{};t=u[n.MSFT_TEXTURE_DDS]?a.images[u[n.MSFT_TEXTURE_DDS].source]:a.images[c.source];var d=t.uri,p=!1;return void 0!==t.bufferView&&(d=r.getDependency("bufferView",t.bufferView).then(function(e){p=!0;var n=new Blob([e],{type:t.mimeType});return d=l.createObjectURL(n),d})),Promise.resolve(d).then(function(e){var t=i["X"].Handlers.get(e);return t||(t=u[n.MSFT_TEXTURE_DDS]?r.extensions[n.MSFT_TEXTURE_DDS].ddsLoader:s),new Promise(function(n,r){t.load(L(e,o.path),n,void 0,r)})}).then(function(e){!0===p&&l.revokeObjectURL(d),e.flipY=!1,void 0!==c.name&&(e.name=c.name),u[n.MSFT_TEXTURE_DDS]||(e.format=void 0!==c.format?y[c.format]:i["Eb"]),void 0!==c.internalFormat&&e.format!==y[c.internalFormat]&&console.warn("THREE.GLTFLoader: Three.js does not support texture internalFormat which is different from texture format. internalFormat will be forced to be the same value as format."),e.type=void 0!==c.type?w[c.type]:i["gc"];var t=a.samplers||{},r=t[c.sampler]||{};return e.magFilter=g[r.magFilter]||i["U"],e.minFilter=g[r.minFilter]||i["V"],e.wrapS=b[r.wrapS]||i["Kb"],e.wrapT=b[r.wrapT]||i["Kb"],e})},H.prototype.assignTexture=function(e,t,n){return this.getDependency("texture",n).then(function(n){e[t]=n})},H.prototype.loadMaterial=function(e){var t,r=this,a=(this.json,this.extensions),o=this.json.materials[e],s={},l=o.extensions||{},c=[];if(l[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){var u=a[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];t=u.getMaterialType(o),c.push(u.extendParams(s,o,r))}else if(l[n.KHR_MATERIALS_UNLIT]){var d=a[n.KHR_MATERIALS_UNLIT];t=d.getMaterialType(o),c.push(d.extendParams(s,o,r))}else{t=i["ib"];var p=o.pbrMetallicRoughness||{};if(s.color=new i["o"](1,1,1),s.opacity=1,Array.isArray(p.baseColorFactor)){var h=p.baseColorFactor;s.color.fromArray(h),s.opacity=h[3]}if(void 0!==p.baseColorTexture&&c.push(r.assignTexture(s,"map",p.baseColorTexture.index)),s.metalness=void 0!==p.metallicFactor?p.metallicFactor:1,s.roughness=void 0!==p.roughnessFactor?p.roughnessFactor:1,void 0!==p.metallicRoughnessTexture){var m=p.metallicRoughnessTexture.index;c.push(r.assignTexture(s,"metalnessMap",m)),c.push(r.assignTexture(s,"roughnessMap",m))}}!0===o.doubleSided&&(s.side=i["t"]);var f=o.alphaMode||E.OPAQUE;return f===E.BLEND?s.transparent=!0:(s.transparent=!1,f===E.MASK&&(s.alphaTest=void 0!==o.alphaCutoff?o.alphaCutoff:.5)),void 0!==o.normalTexture&&t!==i["hb"]&&(c.push(r.assignTexture(s,"normalMap",o.normalTexture.index)),s.normalScale=new i["kc"](1,1),void 0!==o.normalTexture.scale&&s.normalScale.set(o.normalTexture.scale,o.normalTexture.scale)),void 0!==o.occlusionTexture&&t!==i["hb"]&&(c.push(r.assignTexture(s,"aoMap",o.occlusionTexture.index)),void 0!==o.occlusionTexture.strength&&(s.aoMapIntensity=o.occlusionTexture.strength)),void 0!==o.emissiveFactor&&t!==i["hb"]&&(s.emissive=(new i["o"]).fromArray(o.emissiveFactor)),void 0!==o.emissiveTexture&&t!==i["hb"]&&c.push(r.assignTexture(s,"emissiveMap",o.emissiveTexture.index)),Promise.all(c).then(function(){var e;return e=t===i["Ob"]?a[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(s):new t(s),void 0!==o.name&&(e.name=o.name),e.normalScale&&(e.normalScale.y=-e.normalScale.y),e.map&&(e.map.encoding=i["rc"]),e.emissiveMap&&(e.emissiveMap.encoding=i["rc"]),e.specularMap&&(e.specularMap.encoding=i["rc"]),o.extras&&(e.userData=o.extras),o.extensions&&R(a,e,o),e})},H.prototype.loadGeometries=function(e){var t,r=this,a=this.extensions,o=this.primitiveCache,s=N(e);return s&&(t=e,e=[e[0]]),this.getDependencies("accessor").then(function(l){for(var c=[],u=0,d=e.length;u<d;u++){var p=e[u],h=j(o,p);if(h)c.push(h);else if(p.extensions&&p.extensions[n.KHR_DRACO_MESH_COMPRESSION]){var m=a[n.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(p,r).then(function(e){return U(e,p,l),e});o.push({primitive:p,promise:m}),c.push(m)}else{var f=new i["l"];U(f,p,l);m=Promise.resolve(f);o.push({primitive:p,promise:m}),c.push(m)}}return Promise.all(c).then(function(n){if(s){var a=n[0],o=r.multiPassGeometryCache,c=F(o,a,t);if(null!==c)return[c.geometry];var u=new i["l"];for(var d in u.name=a.name,u.userData=a.userData,a.attributes)u.addAttribute(d,a.attributes[d]);for(var d in a.morphAttributes)u.morphAttributes[d]=a.morphAttributes[d];for(var p=[],h=0,m=0,f=t.length;m<f;m++){for(var g=l[t[m].indices],b=0,y=g.count;b<y;b++)p.push(g.array[b]);u.addGroup(h,g.count,m),h+=g.count}return u.setIndex(p),o.push({geometry:u,baseGeometry:a,primitives:t}),[u]}if(n.length>1&&void 0!==v){for(m=1,f=e.length;m<f;m++)if(e[0].mode!==e[m].mode)return n;o=r.multiplePrimitivesCache,c=G(o,n);if(c){if(null!==c.geometry)return[c.geometry]}else{u=v.mergeBufferGeometries(n,!0);if(o.push({geometry:u,baseGeometries:n}),null!==u)return[u]}}return n})})},H.prototype.loadMesh=function(e){var t=this,r=(this.json,this.extensions),a=this.json.meshes[e];return this.getMultiDependencies(["accessor","material"]).then(function(o){for(var s=a.primitives,l=[],c=0,u=s.length;c<u;c++)l[c]=void 0===s[c].material?x():o.materials[s[c].material];return t.loadGeometries(s).then(function(o){for(var c=1===o.length&&o[0].groups.length>0,u=[],d=0,p=o.length;d<p;d++){var h,f=o[d],v=s[d],g=c?l:l[d];if(v.mode===m.TRIANGLES||v.mode===m.TRIANGLE_STRIP||v.mode===m.TRIANGLE_FAN||void 0===v.mode)h=!0===a.isSkinnedMesh?new i["Qb"](f,g):new i["gb"](f,g),v.mode===m.TRIANGLE_STRIP?h.drawMode=i["ac"]:v.mode===m.TRIANGLE_FAN&&(h.drawMode=i["Zb"]);else if(v.mode===m.LINES)h=new i["T"](f,g);else if(v.mode===m.LINE_STRIP)h=new i["Q"](f,g);else if(v.mode===m.LINE_LOOP)h=new i["S"](f,g);else{if(v.mode!==m.POINTS)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+v.mode);h=new i["zb"](f,g)}Object.keys(h.geometry.morphAttributes).length>0&&O(h,a),h.name=a.name||"mesh_"+e,o.length>1&&(h.name+="_"+d),void 0!==a.extras&&(h.userData=a.extras),u.push(h);for(var b=c?h.material:[h.material],y=void 0!==f.attributes.color,w=void 0===f.attributes.normal,M=!0===h.isSkinnedMesh,T=Object.keys(f.morphAttributes).length>0,A=T&&void 0!==f.morphAttributes.normal,S=0,E=b.length;S<E;S++){g=b[S];if(h.isPoints){var L="PointsMaterial:"+g.uuid,x=t.cache.get(L);x||(x=new i["Ab"],i["cb"].prototype.copy.call(x,g),x.color.copy(g.color),x.map=g.map,x.lights=!1,t.cache.add(L,x)),g=x}else if(h.isLine){L="LineBasicMaterial:"+g.uuid;var R=t.cache.get(L);R||(R=new i["R"],i["cb"].prototype.copy.call(R,g),R.color.copy(g.color),R.lights=!1,t.cache.add(L,R)),g=R}if(y||w||M||T){L="ClonedMaterial:"+g.uuid+":";g.isGLTFSpecularGlossinessMaterial&&(L+="specular-glossiness:"),M&&(L+="skinning:"),y&&(L+="vertex-colors:"),w&&(L+="flat-shading:"),T&&(L+="morph-targets:"),A&&(L+="morph-normals:");var C=t.cache.get(L);C||(C=g.isGLTFSpecularGlossinessMaterial?r[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].cloneMaterial(g):g.clone(),M&&(C.skinning=!0),y&&(C.vertexColors=i["oc"]),w&&(C.flatShading=!0),T&&(C.morphTargets=!0),A&&(C.morphNormals=!0),t.cache.add(L,C)),g=C}b[S]=g,g.aoMap&&void 0===f.attributes.uv2&&void 0!==f.attributes.uv&&(console.log("THREE.GLTFLoader: Duplicating UVs to support aoMap."),f.addAttribute("uv2",new i["k"](f.attributes.uv.array,2))),g.isGLTFSpecularGlossinessMaterial&&(h.onBeforeRender=r[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].refreshUniforms)}h.material=c?b:b[0]}if(1===u.length)return u[0];var _=new i["D"];for(d=0,p=u.length;d<p;d++)_.add(u[d]);return _})})},H.prototype.loadCamera=function(e){var t,n=this.json.cameras[e],r=n[n.type];if(r)return"perspective"===n.type?t=new i["xb"](i["db"].radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):"orthographic"===n.type&&(t=new i["wb"](r.xmag/-2,r.xmag/2,r.ymag/2,r.ymag/-2,r.znear,r.zfar)),void 0!==n.name&&(t.name=n.name),n.extras&&(t.userData=n.extras),Promise.resolve(t);console.warn("THREE.GLTFLoader: Missing camera parameters.")},H.prototype.loadSkin=function(e){var t=this.json.skins[e],n={joints:t.joints};return void 0===t.inverseBindMatrices?Promise.resolve(n):this.getDependency("accessor",t.inverseBindMatrices).then(function(e){return n.inverseBindMatrices=e,n})},H.prototype.loadAnimation=function(e){this.json;var t=this.json.animations[e];return this.getMultiDependencies(["accessor","node"]).then(function(n){for(var r=[],a=0,o=t.channels.length;a<o;a++){var s=t.channels[a],l=t.samplers[s.sampler];if(l){var c=s.target,u=void 0!==c.node?c.node:c.id,d=void 0!==t.parameters?t.parameters[l.input]:l.input,p=void 0!==t.parameters?t.parameters[l.output]:l.output,m=n.accessors[d],f=n.accessors[p],v=n.nodes[u];if(v){var g;switch(v.updateMatrix(),v.matrixAutoUpdate=!0,A[c.path]){case A.weights:g=i["pb"];break;case A.rotation:g=i["Db"];break;case A.position:case A.scale:default:g=i["nc"];break}var b=v.name?v.name:v.uuid,y=void 0!==l.interpolation?S[l.interpolation]:i["M"],w=[];A[c.path]===A.weights?v.traverse(function(e){!0===e.isMesh&&e.morphTargetInfluences&&w.push(e.name?e.name:e.uuid)}):w.push(b);for(var M=0,T=w.length;M<T;M++){var E=new g(w[M]+"."+A[c.path],i["g"].arraySlice(m.array,0),i["g"].arraySlice(f.array,0),y);"CUBICSPLINE"===l.interpolation&&(E.createInterpolant=function(e){return new h(this.times,this.values,this.getValueSize()/3,e)},E.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),r.push(E)}}}}u=void 0!==t.name?t.name:"animation_"+e;return new i["e"](u,void 0,r)})},H.prototype.loadNode=function(e){this.json;var t=this.extensions,r=this.json.meshReferences,a=this.json.meshUses,o=this.json.nodes[e];return this.getMultiDependencies(["mesh","skin","camera","light"]).then(function(e){var s;if(!0===o.isBone)s=new i["i"];else if(void 0!==o.mesh){var l=e.meshes[o.mesh];if(s=l.clone(),!0===l.isGroup)for(var c=0,u=l.children.length;c<u;c++){var d=l.children[c];d.material&&!0===d.material.isGLTFSpecularGlossinessMaterial&&(s.children[c].onBeforeRender=d.onBeforeRender)}else l.material&&!0===l.material.isGLTFSpecularGlossinessMaterial&&(s.onBeforeRender=l.onBeforeRender);r[o.mesh]>1&&(s.name+="_instance_"+a[o.mesh]++)}else if(void 0!==o.camera)s=e.cameras[o.camera];else if(o.extensions&&o.extensions[n.KHR_LIGHTS]&&void 0!==o.extensions[n.KHR_LIGHTS].light){var p=t[n.KHR_LIGHTS].lights;s=p[o.extensions[n.KHR_LIGHTS].light]}else s=new i["qb"];if(void 0!==o.name&&(s.name=i["Bb"].sanitizeNodeName(o.name)),o.extras&&(s.userData=o.extras),o.extensions&&R(t,s,o),void 0!==o.matrix){var h=new i["fb"];h.fromArray(o.matrix),s.applyMatrix(h)}else void 0!==o.translation&&s.position.fromArray(o.translation),void 0!==o.rotation&&s.quaternion.fromArray(o.rotation),void 0!==o.scale&&s.scale.fromArray(o.scale);return s})},H.prototype.loadScene=function(){function e(t,n,r,a,o){var s=a[t],l=r.nodes[t];if(void 0!==l.skin)for(var c=!0===s.isGroup?s.children:[s],u=0,d=c.length;u<d;u++){for(var p=c[u],h=o[l.skin],m=[],f=[],v=0,g=h.joints.length;v<g;v++){var b=h.joints[v],y=a[b];if(y){m.push(y);var w=new i["fb"];void 0!==h.inverseBindMatrices&&w.fromArray(h.inverseBindMatrices.array,16*v),f.push(w)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',b)}p.bind(new i["Pb"](m,f),p.matrixWorld)}if(n.add(s),l.children){var M=l.children;for(u=0,d=M.length;u<d;u++){var T=M[u];e(T,s,r,a,o)}}}return function(t){var r=this.json,a=this.extensions,o=this.json.scenes[t];return this.getMultiDependencies(["node","skin"]).then(function(t){var s=new i["Mb"];void 0!==o.name&&(s.name=o.name),o.extras&&(s.userData=o.extras),o.extensions&&R(a,s,o);for(var l=o.nodes||[],c=0,u=l.length;c<u;c++)e(l[c],s,r,t.nodes,t.skins);if(o.extensions&&o.extensions[n.KHR_LIGHTS]&&void 0!==o.extensions[n.KHR_LIGHTS].light){var d=a[n.KHR_LIGHTS].lights;s.add(d[o.extensions[n.KHR_LIGHTS].light])}return s})}}(),e}(),P=(n("SRfc"),function(e){this.manager=void 0!==e?e:i["r"],this.cachedLoaders={},this.loaderMap={"3mf":"3MFLoader",amf:"AMFLoader",bvh:"BVHLoader",assimp:"AssimpLoader",babylon:"BabylonLoader",dae:"ColladaLoader",drc:"DRACOLoader",fbx:"FBXLoader",gcode:"GCodeLoader",gltf:"GLTFLoader",glb:"GLTFLoader",bin:"GLTFLoader",kmz:"KMZLoader",md2:"MD2Loader",mmd:"MMDLoader",obj:"OBJLoader",ply:"PLYLoader",pcd:"PCDLoader",prwm:"PRWMLoader",stl:"STLLoader",tds:"TDSLoader",vtk:"VTKLoader",vtp:"VTKLoader",x:"XLoader",zae:"ColladaArchiveLoader"},this.loaderClass={GLTFLoader:I}});P.prototype={constructor:I,formResult:function(e,t){var n=new i["hb"]({color:16777215}),r=e.scene||e.object||e;return r=r.isBufferGeometry||r.isGeometry?new i["gb"](r,n):r,{model:r,extension:t,originalResult:e}},getLoader:function(e,t,n){var r=null;switch(e){case"GLTFLoader":O.setDecoderPath("./js/libs/draco/gltf/"),r=new this.loaderClass[e],r.setDRACOLoader(new O);break;default:}n(r)},extToLoader:function(e,t,n,r){var a=this;e=e?e.toLowerCase():null;var o=this.loaderMap[e]||null;if(null!=o){var i=this.cachedLoaders[o]||null;null!=i?n(i):this.getLoader(o,this.manager,function(e){a.cachedLoaders[o]=e,n(e)})}else r(new Error("Model Loader : No loader specified for '".concat(e,"' extension")))},load:function(e,t,n,r){var a=this,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;r=r||function(e){return console.error(e)};var i=e.match(/\.([^\.\/\\]+)$/),s=i?i[1]:null,l=o||s;null!=e?this.extToLoader(l,this.manager,function(o){o.load(e,function(e){t(a.formResult(e))},n,r)},r):r(new Error("Model Loader : No file extension found"))},parse:function(e,t,n,r){var a=this;r=r||function(e){return console.error(e)},this.extToLoader(t,this.manager,function(t){n(a.formResult(t.parse(e)))},r)}};var D,j,G={name:"model-viewer",mixins:[R],data:function(){return{loader:new P}},created:function(){},methods:{load:function(){var e=this;this.src&&(this.object&&this.wrapper.remove(this.object),this.loader.load(this.src,function(t){null!==e.envMap&&t.model.traverse(function(t){t.material&&(t.material.isMeshStandardMaterial||t.material.isShaderMaterial&&void 0!==t.material.envMap)&&(t.material.envMap=e.envMap,t.material.needsUpdate=!0),(t.isMesh||t.isLight)&&(t.castShadow=!0)});var n=t.originalResult.animations;if(n&&n.length){e.mixer=new i["f"](t.model);for(var r=0;r<n.length;r++){var a=n[r];e.animationTime&&(a.duration=e.animationTime);var o=e.mixer.clipAction(a);e.playAnimation&&o.play()}}e.addObject(t.model),e.$emit("on-load")},function(t){e.$emit("on-progress",t)},function(t){console.log(t),e.$emit("on-error",t)}))}}},F=G,k=Object(c["a"])(F,D,j,!1,null,null,null),N=k.exports,H={name:"app",components:{ModelViewer:N,GithubCorner:p},data:function(){return{models:{gltf:{src:"models/gltf/DamagedHelmet/glTF/DamagedHelmet.gltf",rotate:new i["x"]},gltf_anim:{src:"models/gltf/CesiumMan/glTF/CesiumMan.gltf",rotate:new i["x"](0,0,0),anim:!0},glb:{src:"models/gltf/BoomBox/glTF-Binary/BoomBox.glb",rotate:new i["x"](0,Math.PI,0)}},lights:[{type:"hemisphere",skyColor:12303359,groundColor:4473890,position:new i["lc"](0,1,0)}],src:null,backgroundColor:16777215,visibleControls:{help:!0,fullscreen:!0,download:!0},statsjs:!0,datgui:!0,cubemap:["textures/cube/Bridge2/posx.jpg","textures/cube/Bridge2/negx.jpg","textures/cube/Bridge2/posy.jpg","textures/cube/Bridge2/negy.jpg","textures/cube/Bridge2/posz.jpg","textures/cube/Bridge2/negz.jpg"],rotate:new i["lc"],anim:!0}},mounted:function(){this.src=this.models.gltf.src},methods:{changeModel:function(e){this.src=this.models[e].src,this.rotate=this.models[e].rotate,this.anim=this.models[e].anim||!0}}},U=H,B=Object(c["a"])(U,a,o,!1,null,null,null),z=B.exports;r["a"].config.productionTip=!1,new r["a"]({render:function(e){return e(z)}}).$mount("#app")},x0BH:function(e,t,n){}});
//# sourceMappingURL=app.e4413f22.js.map